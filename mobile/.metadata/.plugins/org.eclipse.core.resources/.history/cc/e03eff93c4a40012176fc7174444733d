package com.fitometer.fragments;

import org.pencilsofpromise.R;
import org.pencilsofpromise.fragments.AboutFragment.LongOperation;

import android.annotation.SuppressLint;
import android.os.AsyncTask;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.Display;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.View.OnClickListener;
import android.webkit.WebView;
import android.widget.Button;
import android.widget.RelativeLayout;
import android.widget.ScrollView;

public class ConfigureFragment extends Fragment implements OnClickListener {

	public interface OnOsmdroidMenuListener {
		public void osmdroidCitySelected(String option);
		// testing svn commit
	}

	@SuppressLint("NewApi")
	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		//View v = inflater.inflate(R.layout.about_fragment, container, false);
		//RelativeLayout relate = (RelativeLayout) v.findViewById(R.id.relative_lay);
		//webview = (WebView) v.findViewById(R.id.videoview);

		
			
		return null;
		//return v;
	}
	
	private class LongOperation extends AsyncTask<String, Void, String> {

		@SuppressLint({ "NewApi", "SetJavaScriptEnabled" })
		@Override
		protected String doInBackground(String... arg0) {

			/*
			 * THe part where webview is used to play instead of a videoview**/
			
			
			String videoURL = "http://www.youtube.com/v/DZi6DEJsOJ0?";
			String videoPoP = "http://www.youtube.com/v/A6kCkkLo6Rw?";
			
			webview.setHorizontalScrollBarEnabled(false);
			webview.setVerticalScrollBarEnabled(false);

			webview.getSettings().setJavaScriptEnabled(true);
			webview.getSettings().setPluginsEnabled(true);

			Display display = getActivity().getWindowManager().getDefaultDisplay();
			int width = display.getWidth();
			int widthdp = (int) (width / getResources().getDisplayMetrics().density);
			int height = display.getHeight();
			int heightdp = (int) (height / getResources().getDisplayMetrics().density);

		
		int height_new = 205;
		String widthAndHeight = "width=\"" + widthdp + "\" height=\"" + height_new + "\"";			

			 temp = "<object "
					+ widthAndHeight
					+ ">"
					+ "<body style='margin:0;padding:0;'>"
					+ "<param name='allowFullScreen' value='false'>"
					+ "</param><param name='allowscriptaccess' value='always'>"
					+ "</param><embed src='"
					+ videoPoP
					+ "'"
					+ " type='application/x-shockwave-flash' allowscriptaccess='always' allowfullscreen='true'"
					+ widthAndHeight + "></embed></object>";
			
			 return null;
		}

		@Override
		protected void onPostExecute(String result) {
			// TODO Auto-generated method stub
		
			webview.loadData(temp, "text/html", "utf-8");

		}
	
	
	
}

}
